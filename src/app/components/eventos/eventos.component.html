<body class="bg-orange-50 font-sans leading-normal tracking-normal">
    
    <!-- Contenedor del Formulario Crear Evento -->
    <div class="max-w-3xl mx-auto p-6 bg-white shadow-lg rounded-lg my-8">
        <h2 class="text-2xl font-semibold text-center text-gray-800 mb-6">Crear Evento</h2>
        
        <div class="space-y-6">
            <form [formGroup]="formulario" (ngSubmit)="onSubmit()" class="space-y-4">
                <!-- Selección de Cliente -->
                <select 
                    id="selectedCliente" 
                    formControlName="selectedCliente" 
                    (change)="onClienteChange($event)"
                    class="w-full px-4 py-2 border border-gray-300 rounded-md text-gray-700 focus:outline-none focus:ring-2 focus:ring-neutral-700 bg-white"
                >
                    <option value="" disabled selected>Seleccione un cliente</option>
                    <option *ngFor="let cliente of clientes" [ngValue]="cliente">{{cliente.nombres}}</option>
                </select>

                <!-- Campos ocultos para ID y nombre -->
                <input type="hidden" formControlName="idCliente">
                <input type="hidden" formControlName="nombresCliente">

                <!-- Nombre del Evento -->
                <input 
                    type="text" 
                    id="nombreEvento" 
                    formControlName="nombreEvento"
                    placeholder="Ingrese el Nombre del Evento"
                    class="w-full px-4 py-2 border border-gray-300 rounded-md text-gray-700 focus:outline-none focus:ring-2 focus:ring-neutral-700 bg-white"
                >

                <!-- Dirección del Evento -->
                <input 
                    type="text" 
                    id="dirEvento" 
                    formControlName="dirEvento"
                    placeholder="Ingrese la Dirección del Evento"
                    class="w-full px-4 py-2 border border-gray-300 rounded-md text-gray-700 focus:outline-none focus:ring-2 focus:ring-neutral-700 bg-white"
                >

                <!-- Fecha y Hora -->
                <input 
                    type="date" 
                    id="fechaYHora" 
                    formControlName="fechaYHora"
                    placeholder="Ingrese la Fecha y la Hora"
                    class="w-full px-4 py-2 border border-gray-300 rounded-md text-gray-700 focus:outline-none focus:ring-2 focus:ring-neutral-700 bg-white"
                >

                <!-- Selección de Paquete -->
                <select 
                    id="selectedPaquete" 
                    formControlName="selectedPaquete" 
                    (change)="onPaqueteChange($event)"
                    class="w-full px-4 py-2 border border-gray-300 rounded-md text-gray-700 focus:outline-none focus:ring-2 focus:ring-neutral-700 bg-white"
                >
                    <option value="" disabled selected>Seleccione un paquete</option>
                    <option *ngFor="let paquete of paquetes" [ngValue]="paquete">{{paquete.nomPaquete}}</option>
                </select>

                <!-- Campos ocultos para ID de Paquete -->
                <input type="hidden" formControlName="idPaquete">
                <input type="hidden" formControlName="nombrePaquete">

                <!-- Monto -->
                <input 
                    type="text" 
                    id="monto" 
                    formControlName="monto"
                    placeholder="Ingrese el Monto"
                    class="w-full px-4 py-2 border border-gray-300 rounded-md text-gray-700 focus:outline-none focus:ring-2 focus:ring-neutral-700 bg-white"
                >

                <!-- Botón Aceptar -->
                <input 
                    type="submit" 
                    class="w-full bg-neutral-700 text-white font-semibold py-2 rounded-md hover:bg-neutral-600 transition duration-200 cursor-pointer"
                    id="btnAceptar" 
                    value="Aceptar"
                >
            </form>
        </div>
    </div>

    <!-- Tabla de Eventos -->
    <div class="max-w-5xl mx-auto p-6 bg-white shadow-md rounded-lg mb-8">
        <table class="w-full text-left border-collapse">
            <thead>
<<<<<<< Updated upstream
                <tr>
                    <th>Cliente</th>
                    <th>Evento</th>
                    <th>Dirección</th>
                    <th>Fecha y Hora</th>
                    <th>Nombre Paquete</th>
                    <th>Monto</th>
                    <th>Acción</th>
                </tr>
            </thead>
            <tbody>
                <tr *ngFor="let evento of eventosData">
                    <td>{{evento.nombresCliente}}</td>
                    <td>{{evento.nombreEvento}}</td>
                    <td>{{evento.dirEvento}}</td>
                    <td>{{evento.fechaYHora}}</td>
                    <td>{{evento.nombrePaquete}}</td>
                    <td>{{evento.monto}}</td>
                    <td><button class="btn btn-outline-danger" (click)="onClickDelete(evento)">Eliminar evento</button>
=======
                <tr class="bg-gray-100 border-b">
                    <th class="p-4 text-sm font-semibold text-gray-600">Cliente</th>
                    <th class="p-4 text-sm font-semibold text-gray-600">Evento</th>
                    <th class="p-4 text-sm font-semibold text-gray-600">Dirección</th>
                    <th class="p-4 text-sm font-semibold text-gray-600">Fecha y Hora</th>
                    <th class="p-4 text-sm font-semibold text-gray-600">Nombre Paquete</th>
                    <th class="p-4 text-sm font-semibold text-gray-600">Monto</th>
                    <th class="p-4 text-sm font-semibold text-gray-600">Pagado</th>
                    <th class="p-4 text-sm font-semibold text-gray-600">Acciones</th>
                </tr>
            </thead>
            <tbody>
                <tr *ngFor="let evento of eventosData" [style.background-color]="calcularColorFila(evento)" class="hover:bg-gray-100">
                    <td class="p-4 text-gray-700">{{evento.nombresCliente}}</td>
                    <td class="p-4 text-gray-700">{{evento.nombreEvento}}</td>
                    <td class="p-4 text-gray-700">{{evento.dirEvento}}</td>
                    <td class="p-4 text-gray-700">{{evento.fechaYHora}}</td>
                    <td class="p-4 text-gray-700">{{evento.nombrePaquete}}</td>
                    <td class="p-4 text-gray-700">${{evento.monto}}</td>
                    <td class="p-4 text-gray-700">${{evento.montoPagado || 0}}</td>
                    <td class="p-4">
                        <button 
                            *ngIf="!estaCompletamentePagado(evento)" 
                            class="text-blue-500 font-semibold hover:text-blue-700 transition duration-200"
                            (click)="abrirPopupPago(evento)">
                            Pagar
                        </button>
                        <button 
                            class="text-red-500 font-semibold hover:text-red-700 transition duration-200"
                            (click)="onClickDelete(evento)">
                            Eliminar
                        </button>
>>>>>>> Stashed changes
                    </td>
                </tr>
            </tbody>
        </table>
    </div>
<<<<<<< Updated upstream
</body>
=======

    <!-- Botón para Exportar -->
    <div class="max-w-3xl mx-auto p-6 bg-white shadow-lg rounded-lg mb-8 text-center">
        <button 
            class="bg-green-600 text-white px-4 py-2 rounded-md hover:bg-green-700 transition-colors"
            (click)="exportarPDF()">Exportar a PDF
        </button>
    </div>

    <!-- Popup de Pago -->
    <div class="popup" *ngIf="showPagoPopup">
        <div class="popup-content p-6 bg-white shadow-lg rounded-md w-96 mx-auto">
            <h3 class="text-xl font-semibold mb-4">Registrar Pago</h3>
            <p class="mb-2">Monto total: ${{eventoSeleccionado?.monto}}</p>
            <p class="mb-2">Monto pagado: ${{eventoSeleccionado?.montoPagado || 0}}</p>
            <p class="mb-4">Restante: ${{eventoSeleccionado?.monto || 0 - (eventoSeleccionado?.montoPagado || 0)}}</p>
            <input 
                #cantidadPago 
                type="number"
                [max]="eventoSeleccionado?.monto || 0 - (eventoSeleccionado?.montoPagado || 0)"
                placeholder="Cantidad a pagar"
                class="mb-4 p-2 border border-gray-300 rounded-md w-full focus:outline-none focus:ring-2 focus:ring-neutral-700 bg-white"
            >

            <div class="popup-buttons flex justify-between">
                <button 
                    class="bg-blue-500 text-white py-2 px-6 rounded-md hover:bg-blue-600 transition-colors"
                    (click)="registrarPago(+cantidadPago.value)">
                    Registrar Pago
                </button>
                <button 
                    class="bg-gray-400 text-white py-2 px-6 rounded-md hover:bg-gray-500 transition-colors"
                    (click)="showPagoPopup = false">
                    Cancelar
                </button>
            </div>
        </div>
    </div>

</body>
>>>>>>> Stashed changes
